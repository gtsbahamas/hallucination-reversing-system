{
  "task_id": "matplotlib__matplotlib-23563",
  "condition": "baseline",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": true,
  "final_test_output": {
    "resolved": true,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": true,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_draw_single_lines_from_Nx1\"\n      ],\n      \"failure\": []\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_invisible_axes[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_aspects[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_axes3d_repr\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_bar3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_bar3d_colors\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_bar3d_shaded[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_bar3d_notshaded[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_bar3d_lightsource\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contour3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contour3d_extend3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contourf3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contourf3d_fill[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contourf3d_extend[png-both-levels0]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contourf3d_extend[png-min-levels1]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contourf3d_extend[png-max-levels2]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_tricontour[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_contour3d_1d_input\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_lines3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_plot_scalar[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_mixedsubplots[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_tight_layout_text[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d_color[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d_linewidth[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d_linewidth_modification[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d_modification[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d_sorting[png-True]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_scatter3d_sorting[png-False]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_marker_draw_order_data_reversed[png--50]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_marker_draw_order_data_reversed[png-130]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_marker_draw_order_view_rotated[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_plot_3d_from_2d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_surface3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_surface3d_shaded[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_surface3d_masked[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_surface3d_masked_strides[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_text3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_text3d_modification[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_trisurf3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_trisurf3d_shaded[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_wireframe3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_wireframe3dzerocstride[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_wireframe3dzerorstride[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_wireframe3dzerostrideraises\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_mixedsamplesraises\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_quiver3d[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_quiver3d_empty[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_quiver3d_masked[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_patch_modification\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_patch_collection_modification[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_poly3dcollection_verts_validation\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_poly3dcollection_closed[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_poly_collection_2d_to_3d_empty\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_poly3dcollection_alpha[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_add_collection3d_zs_array[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_add_collection3d_zs_scalar[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_axes3d_labelpad[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_axes3d_cla[png]\",\n        \"lib/mpl_toolkits/tests/test_mplot3d.py::test_axes3d_rotated[p"
  },
  "iterations": [],
  "ablation": null,
  "solution": "--- a/lib/mpl_toolkits/mplot3d/art3d.py\n+++ b/lib/mpl_toolkits/mplot3d/art3d.py\n@@ -168,10 +168,14 @@ class Line3D(lines.Line2D):\n         super().__init__([], [], *args, **kwargs)\n         self._verts3d = xs, ys, zs\n \n     def set_3d_properties(self, zs=0, zdir='z'):\n         xs = self.get_xdata()\n         ys = self.get_ydata()\n-        zs = np.broadcast_to(zs, len(xs))\n+        try:\n+            zs = np.broadcast_to(zs, len(xs))\n+        except ValueError as err:\n+            raise ValueError('Failed to broadcast z coordinates: ' + str(err))\n         self._verts3d = juggle_axes(xs, ys, zs, zdir)\n         self.stale = True\n \n     def set_data_3d(self, *args):"
}