{
  "task_id": "django__django-14915",
  "condition": "lucid",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": true,
  "final_test_output": {
    "resolved": true,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": true,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [\n        \"test_choice_value_hash (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\"\n      ],\n      \"failure\": []\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"test_basics (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choice_iterator_passes_model_to_widget (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choices (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choices_bool (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choices_bool_empty_label (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choices_freshness (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choices_not_fetched_when_not_rendering (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_choices_radio_blank (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_clean_model_instance (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_clean_to_field_name (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_custom_choice_iterator_passes_model_to_widget (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_deepcopies_widget (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_disabled_modelchoicefield (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_disabled_modelchoicefield_has_changed (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_disabled_modelchoicefield_initial_model_instance (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_disabled_modelmultiplechoicefield_has_changed (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_disabled_multiplemodelchoicefield (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"ModelChoiceField with RadioSelect widget doesn't produce unnecessary\",\n        \"Widgets that render multiple subwidgets shouldn't make more than one\",\n        \"Iterator defaults to ModelChoiceIterator and can be overridden with\",\n        \"test_queryset_manager (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_queryset_none (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\",\n        \"test_result_cache_not_shared (model_forms.test_modelchoicefield.ModelChoiceFieldTests)\"\n      ],\n      \"failure\": []\n    },\n    \"FAIL_TO_FAIL\": {\n      \"success\": [],\n      \"failure\": []\n    },\n    \"PASS_TO_FAIL\": {\n      \"success\": [],\n      \"failure\": []\n    }\n  }\n}"
  },
  "iterations": [
    {
      "iteration": 1,
      "verification": "ALL TESTS PASSED",
      "passed": true,
      "early_stop": true
    }
  ],
  "ablation": null,
  "solution": "--- a/django/forms/models.py\n+++ b/django/forms/models.py\n@@ -1173,6 +1173,9 @@\n     def __str__(self):\n         return str(self.value)\n \n+    def __hash__(self):\n+        return hash(self.value)\n+\n     def __eq__(self, other):\n         if isinstance(other, ModelChoiceIteratorValue):\n             other = other.value\n```\n\nWait, I need to see the actual class definition. Let me look for `ModelChoiceIteratorValue` in the source. Since the file is truncated, let me examine what's typically in this file around line 1173 based on Django's structure.\n\nThe `ModelChoiceIteratorValue` class is typically defined near the `ModelChoiceIterator` class. Let me create the proper patch:\n\n```diff\n--- a/django/forms/models.py\n+++ b/django/forms/models.py\n@@ -1173,6 +1173,9 @@\n     def __str__(self):\n         return str(self.value)\n \n+    def __hash__(self):\n+        return hash(self.value)\n+\n     def __eq__(self, other):\n         if isinstance(other, ModelChoiceIteratorValue):\n             other = other.value"
}