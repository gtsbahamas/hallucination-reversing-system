{
  "task_id": "pytest-dev__pytest-7490",
  "condition": "baseline",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": false,
  "final_test_output": {
    "resolved": false,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": false,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [],\n      \"failure\": [\n        \"testing/test_skipping.py::TestXFail::test_dynamic_xfail_set_during_runtest_failed\",\n        \"testing/test_skipping.py::TestXFail::test_dynamic_xfail_set_during_runtest_passed_strict\"\n      ]\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"testing/test_skipping.py::test_importorskip\",\n        \"testing/test_skipping.py::TestEvaluation::test_no_marker\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_xfail_no_args\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_skipif_no_args\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_one_arg\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_one_arg_with_reason\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_one_arg_twice\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_one_arg_twice2\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_skipif_with_boolean_without_reason\",\n        \"testing/test_skipping.py::TestEvaluation::test_marked_skipif_with_invalid_boolean\",\n        \"testing/test_skipping.py::TestEvaluation::test_skipif_class\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_simple[True]\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_simple[False]\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_xpassed\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_using_platform\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_xpassed_strict\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_run_anyway\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_run_with_skip_mark[test_input0-expected0]\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_run_with_skip_mark[test_input1-expected1]\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_evalfalse_but_fails\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_not_report_default\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_not_run_xfail_reporting\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_not_run_no_setup_run\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_xpass\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_imperative\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_imperative_in_setup_function\",\n        \"testing/test_skipping.py::TestXFail::test_dynamic_xfail_no_run\",\n        \"testing/test_skipping.py::TestXFail::test_dynamic_xfail_set_during_funcarg_setup\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_raises[TypeError-TypeError-*1\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_raises[(AttributeError,\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_raises[TypeError-IndexError-*1\",\n        \"testing/test_skipping.py::TestXFail::test_strict_sanity\",\n        \"testing/test_skipping.py::TestXFail::test_strict_xfail[True]\",\n        \"testing/test_skipping.py::TestXFail::test_strict_xfail[False]\",\n        \"testing/test_skipping.py::TestXFail::test_strict_xfail_condition[True]\",\n        \"testing/test_skipping.py::TestXFail::test_strict_xfail_condition[False]\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_condition_keyword[True]\",\n        \"testing/test_skipping.py::TestXFail::test_xfail_condition_keyword[False]\",\n        \"testing/test_skipping.py::TestXFail::test_strict_xfail_default_from_file[true]\",\n        \"testing/test_skipping.py::TestXFail::test_strict_xfail_default_from_file[false]\",\n        \"testing/test_skipping.py::TestXFailwithSetupTeardown::test_failing_setup_issue9\",\n        \"testing/test_skipping.py::TestXFailwithSetupTeardown::test_failing_teardown_issue9\",\n        \"testing/test_skipping.py::TestSkip::test_skip_class\",\n        \"testing/test_skipping.py::TestSkip::test_skips_on_false_string\",\n        \"testing/test_skipping.py::TestSkip::test_arg_as_reason\",\n        \"testing/test_skipping.py::TestSkip::test_skip_no_reason\",\n        \"testing/test_skipping.py::TestSkip::test_skip_with_reason\",\n        \"testing/test_skipping.py::TestSkip::test_only_skips_marked_test\",\n        \"testing/test_skipping.py::TestSkip::test_strict_and_skip\",\n        \"testing/test_skipping.py::TestSkipif::test_skipif_conditional\",\n        \"testing/test_skipping.py::TestSkipif::test_skipif_reporting[\\\"hasattr(sys,\",\n        \"testing/test_skipping.py::TestSkipif::test_skipif_reporting[True,\",\n        \"testing/test_skipping.py::TestSkipif::test_skipif_using_platform\",\n        \"testing/test_skipping.py::TestSkipif::test_skipif_reporting_multiple[skipif-SKIP-skipped]\",\n        \"testing/test_skipping.py::TestSkipif::test_skipif_reporting_multiple[xfail-XPASS-xpassed]\",\n        \"testing/test_skipping.py::test_skip_not_report_default\",\n        \"testing/test_skipping.py::test_skipif_class\",\n        \"testing/test_skipping.py::test_skipped_reasons_functional"
  },
  "iterations": [],
  "ablation": null,
  "solution": "--- a/src/_pytest/skipping.py\n+++ b/src/_pytest/skipping.py\n@@ -248,7 +248,7 @@\n         item._store[skipped_by_mark_key] = True\n         skip(skipped.reason)\n \n-    if not item.config.option.runxfail:\n+    if not item.config.option.runxfail and xfailed_key not in item._store:\n         item._store[xfailed_key] = xfailed = evaluate_xfail_marks(item)\n         if xfailed and not xfailed.run:\n             xfail(\"[NOTRUN] \" + xfailed.reason)\n@@ -257,7 +257,7 @@\n @hookimpl(hookwrapper=True)\n def pytest_runtest_call(item: Item) -> Generator[None, None, None]:\n     xfailed = item._store.get(xfailed_key, None)\n-    if xfailed is None:\n+    if not item.config.option.runxfail and xfailed is None:\n         item._store[xfailed_key] = xfailed = evaluate_xfail_marks(item)\n \n     if not item.config.option.runxfail:"
}