{
  "task_id": "django__django-14382",
  "condition": "baseline",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": true,
  "final_test_output": {
    "resolved": true,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": true,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [\n        \"test_trailing_slash_in_target_app_directory_name (admin_scripts.tests.StartApp)\"\n      ],\n      \"failure\": []\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"Program name is computed from the execute_from_command_line()'s argv\",\n        \"test_params_to_runserver (admin_scripts.tests.ManageTestserver)\",\n        \"test_testserver_handle_params (admin_scripts.tests.ManageTestserver)\",\n        \"test_migration_warning_multiple_apps (admin_scripts.tests.ManageRunserverMigrationWarning)\",\n        \"test_migration_warning_one_app (admin_scripts.tests.ManageRunserverMigrationWarning)\",\n        \"Ensure runserver.check_migrations doesn't choke on empty DATABASES.\",\n        \"runserver.check_migrations() doesn't choke when a database is read-only.\",\n        \"test_runner_addrport_ipv6 (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_ambiguous (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_custom_defaults (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_custom_defaults_ipv6 (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_hostname (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_hostname_ipv6 (admin_scripts.tests.ManageRunserver)\",\n        \"test_runserver_addrport (admin_scripts.tests.ManageRunserver)\",\n        \"test_skip_checks (admin_scripts.tests.ManageRunserver)\",\n        \"Apps listed first in INSTALLED_APPS have precedence.\",\n        \"test_program_name_in_help (admin_scripts.tests.MainModule)\",\n        \"test_non_existent_command_output (admin_scripts.tests.ManageManuallyConfiguredSettings)\",\n        \"test_empty_allowed_hosts_error (admin_scripts.tests.ManageRunserverEmptyAllowedHosts)\",\n        \"Regression for #20509\",\n        \"no settings: manage.py builtin commands fail with an error when no settings provided\",\n        \"no settings: manage.py builtin commands fail if settings file (from environment) doesn't exist\",\n        \"no settings: manage.py builtin commands fail if settings file (from argument) doesn't exist\",\n        \"manage.py builtin commands does not swallow attribute error due to bad\",\n        \"Test listing available commands output note when only core commands are\",\n        \"import error: manage.py builtin commands shows useful diagnostic info\",\n        \"test_key_error (admin_scripts.tests.ManageSettingsWithSettingsErrors)\",\n        \"no settings: django-admin builtin commands fail with an error when no settings provided\",\n        \"no settings: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"no settings: django-admin builtin commands fail if settings file (from argument) doesn't exist\",\n        \"Commands that don't require settings succeed if the settings file\",\n        \"test_no_suggestions (admin_scripts.tests.DjangoAdminSuggestions)\",\n        \"test_suggestions (admin_scripts.tests.DjangoAdminSuggestions)\",\n        \"Options passed before settings are correctly handled.\",\n        \"Options are correctly handled when they are passed before and after\",\n        \"Options passed after settings are correctly handled.\",\n        \"Short options passed after settings are correctly handled.\",\n        \"Short options passed before settings are correctly handled.\",\n        \"alternate: django-admin builtin commands fail with an error when no settings provided\",\n        \"alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist\",\n        \"alternate: django-admin builtin commands succeed if settings are provided in the environment\",\n        \"alternate: django-admin builtin commands succeed if settings are provided as argument\",\n        \"alternate: django-admin can't execute user commands unless settings are provided\",\n        \"alternate: django-admin can execute user commands if settings are provided in environment\",\n        \"alternate: django-admin can execute user commands if settings are provided as argument\",\n        \"minimal: django-admin builtin commands fail with an error when no settings provided\",\n        \"minimal: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"minimal: django-admin builtin commands fail if settings file (from argument) doesn't exist\",\n        \"minimal: django-admin builtin commands fail if settings are provided in the environment\",\n        \"minimal: django-admin builtin commands fail if settings are provided as argument\",\n        \"minimal: django-admin can't execute user commands unless settings are provided\",\n        \"minimal: django-admin can't execute user commands, even if settings are provided in environment\",\n        \"minimal: django-admin can't execute user commands, even if settings are provided as argument\","
  },
  "iterations": [],
  "ablation": null,
  "solution": "--- a/django/core/management/templates.py\n+++ b/django/core/management/templates.py\n@@ -74,7 +74,7 @@ class TemplateCommand(BaseCommand):\n                 raise CommandError(e)\n         else:\n             if app_or_project == 'app':\n-                self.validate_name(os.path.basename(target), 'directory')\n+                self.validate_name(os.path.basename(target.rstrip(os.sep)), 'directory')\n             top_dir = os.path.abspath(os.path.expanduser(target))\n             if not os.path.exists(top_dir):\n                 raise CommandError(\"Destination directory '%s' does not \""
}