{
  "task_id": "django__django-14730",
  "condition": "baseline",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": false,
  "final_test_output": {
    "resolved": false,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": false,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [],\n      \"failure\": [\n        \"test_many_to_many_with_useless_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests)\"\n      ]\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\",\n        \"test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\",\n        \"test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests)\",\n        \"test_clash_parent_link (invalid_models_tests.test_relative_fields.ComplexClashTests)\",\n        \"test_complex_clash (invalid_models_tests.test_relative_fields.ComplexClashTests)\",\n        \"If ``through_fields`` kwarg is given, it must specify both\",\n        \"test_intersection_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\",\n        \"Providing invalid field names to ManyToManyField.through_fields\",\n        \"Mixing up the order of link fields to ManyToManyField.through_fields\",\n        \"ManyToManyField accepts the ``through_fields`` kwarg\",\n        \"test_superset_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)\",\n        \"test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\",\n        \"test_clash_between_accessors (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\",\n        \"test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\",\n        \"test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\",\n        \"test_valid_model (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests)\",\n        \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\",\n        \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\",\n        \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\",\n        \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\",\n        \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\",\n        \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests)\",\n        \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_hidden_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_hidden_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_hidden_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_hidden_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_hidden_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_hidden_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests)\",\n        \"test_clash_between_accessors (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_fk_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_fk_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_m2m_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_m2m_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_m2m_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"Ref #22047.\",\n        \"test_no_clash_for_hidden_related_name (invalid_models_tests.test_relative_fields.AccessorClashTests)\",\n        \"test_fk_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\",\n        \"test_fk_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\",\n        \"test_fk_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests)\",\n        \"test_m2m_to_fk (invalid_models_test"
  },
  "iterations": [],
  "ablation": null,
  "solution": "--- a/django/db/models/fields/related.py\n+++ b/django/db/models/fields/related.py\n@@ -1587,6 +1587,7 @@\n             *super().check(**kwargs),\n             *self._check_unique(**kwargs),\n             *self._check_relationship_model(**kwargs),\n+            *self._check_symmetrical_related_name(**kwargs),\n             *self._check_ignored_options(**kwargs),\n             *self._check_table_uniqueness(**kwargs),\n         ]\n@@ -1627,6 +1628,26 @@\n \n         return errors\n \n+    def _check_symmetrical_related_name(self, **kwargs):\n+        # Check if related_name is specified on a symmetrical ManyToManyField\n+        if (\n+            self.remote_field.symmetrical and\n+            self.remote_field.related_name is not None\n+        ):\n+            return [\n+                checks.Warning(\n+                    'related_name has no effect on ManyToManyField '\n+                    'with a symmetrical relationship, e.g. to \"self\".',\n+                    hint=(\n+                        'Did you mean to set symmetrical to False?'\n+                    ),\n+                    obj=self,\n+                    id='fields.W345',\n+                )\n+            ]\n+\n+        return []\n+\n     def _check_ignored_options(self, **kwargs):\n         warnings = []"
}