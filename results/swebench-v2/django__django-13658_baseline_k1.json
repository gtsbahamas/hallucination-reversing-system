{
  "task_id": "django__django-13658",
  "condition": "baseline",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": true,
  "final_test_output": {
    "resolved": true,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": true,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [\n        \"test_program_name_from_argv (admin_scripts.tests.ExecuteFromCommandLine)\"\n      ],\n      \"failure\": []\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"test_params_to_runserver (admin_scripts.tests.ManageTestserver)\",\n        \"test_testserver_handle_params (admin_scripts.tests.ManageTestserver)\",\n        \"test_no_database (admin_scripts.tests.ManageRunserver)\",\n        \"test_readonly_database (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_addrport_ipv6 (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_ambiguous (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_custom_defaults (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_custom_defaults_ipv6 (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_hostname (admin_scripts.tests.ManageRunserver)\",\n        \"test_runner_hostname_ipv6 (admin_scripts.tests.ManageRunserver)\",\n        \"test_runserver_addrport (admin_scripts.tests.ManageRunserver)\",\n        \"test_migration_warning_one_app (admin_scripts.tests.ManageRunserverMigrationWarning)\",\n        \"test_precedence (admin_scripts.tests.Discovery)\",\n        \"test_program_name_in_help (admin_scripts.tests.MainModule)\",\n        \"test_non_existent_command_output (admin_scripts.tests.ManageManuallyConfiguredSettings)\",\n        \"Regression for #20509\",\n        \"test_empty_allowed_hosts_error (admin_scripts.tests.ManageRunserverEmptyAllowedHosts)\",\n        \"no settings: manage.py builtin commands fail with an error when no settings provided\",\n        \"no settings: manage.py builtin commands fail if settings file (from environment) doesn't exist\",\n        \"no settings: manage.py builtin commands fail if settings file (from argument) doesn't exist\",\n        \"test_attribute_error (admin_scripts.tests.ManageSettingsWithSettingsErrors)\",\n        \"test_help (admin_scripts.tests.ManageSettingsWithSettingsErrors)\",\n        \"test_import_error (admin_scripts.tests.ManageSettingsWithSettingsErrors)\",\n        \"test_key_error (admin_scripts.tests.ManageSettingsWithSettingsErrors)\",\n        \"test_no_suggestions (admin_scripts.tests.DjangoAdminSuggestions)\",\n        \"test_suggestions (admin_scripts.tests.DjangoAdminSuggestions)\",\n        \"no settings: django-admin builtin commands fail with an error when no settings provided\",\n        \"no settings: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"no settings: django-admin builtin commands fail if settings file (from argument) doesn't exist\",\n        \"test_commands_with_invalid_settings (admin_scripts.tests.DjangoAdminNoSettings)\",\n        \"Options passed before settings are correctly handled.\",\n        \"Options are correctly handled when they are passed before and after\",\n        \"Options passed after settings are correctly handled.\",\n        \"Short options passed after settings are correctly handled.\",\n        \"Short options passed before settings are correctly handled.\",\n        \"minimal: django-admin builtin commands fail with an error when no settings provided\",\n        \"minimal: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"minimal: django-admin builtin commands fail if settings file (from argument) doesn't exist\",\n        \"minimal: django-admin builtin commands fail if settings are provided in the environment\",\n        \"minimal: django-admin builtin commands fail if settings are provided as argument\",\n        \"minimal: django-admin can't execute user commands unless settings are provided\",\n        \"minimal: django-admin can't execute user commands, even if settings are provided in environment\",\n        \"minimal: django-admin can't execute user commands, even if settings are provided as argument\",\n        \"alternate: django-admin builtin commands fail with an error when no settings provided\",\n        \"alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist\",\n        \"alternate: django-admin builtin commands succeed if settings are provided in the environment\",\n        \"alternate: django-admin builtin commands succeed if settings are provided as argument\",\n        \"alternate: django-admin can't execute user commands unless settings are provided\",\n        \"alternate: django-admin can execute user commands if settings are provided in environment\",\n        \"alternate: django-admin can execute user commands if settings are provided as argument\",\n        \"default: django-admin builtin commands fail with an error when no settings provided\",\n        \"default: django-admin builtin commands fail if settings file (from environment) doesn't exist\",\n        \"default: django-admin builtin commands fail if settings file"
  },
  "iterations": [],
  "ablation": null,
  "solution": "--- a/django/core/management/__init__.py\n+++ b/django/core/management/__init__.py\n@@ -351,7 +351,11 @@\n         # Preprocess options to extract --settings and --pythonpath.\n         # These options could affect the commands that are available, so they\n         # must be processed early.\n-        parser = CommandParser(usage='%(prog)s subcommand [options] [args]', add_help=False, allow_abbrev=False)\n+        parser = CommandParser(\n+            prog=self.prog_name,\n+            usage='%(prog)s subcommand [options] [args]',\n+            add_help=False,\n+            allow_abbrev=False)\n         parser.add_argument('--settings')\n         parser.add_argument('--pythonpath')\n         parser.add_argument('args', nargs='*')  # catch-all"
}