{
  "task_id": "pytest-dev__pytest-8365",
  "condition": "baseline",
  "max_iterations": 1,
  "model": "claude-sonnet-4-5-20250929",
  "final_passed": false,
  "final_test_output": {
    "resolved": false,
    "test_output": "{\n  \"patch_is_None\": false,\n  \"patch_exists\": true,\n  \"patch_successfully_applied\": true,\n  \"resolved\": false,\n  \"tests_status\": {\n    \"FAIL_TO_PASS\": {\n      \"success\": [],\n      \"failure\": [\n        \"testing/test_tmpdir.py::test_tmp_path_factory_handles_invalid_dir_characters\"\n      ]\n    },\n    \"PASS_TO_PASS\": {\n      \"success\": [\n        \"testing/test_tmpdir.py::TestTempdirHandler::test_mktemp\",\n        \"testing/test_tmpdir.py::TestTempdirHandler::test_tmppath_relative_basetemp_absolute\",\n        \"testing/test_tmpdir.py::test_get_user_uid_not_found\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_make\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_cleanup_lock_create\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_lock_register_cleanup_removal\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_cleanup_keep\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_cleanup_locked\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_cleanup_ignores_symlink\",\n        \"testing/test_tmpdir.py::TestNumberedDir::test_removal_accepts_lock\",\n        \"testing/test_tmpdir.py::TestRmRf::test_rm_rf\",\n        \"testing/test_tmpdir.py::TestRmRf::test_rm_rf_with_read_only_file\",\n        \"testing/test_tmpdir.py::TestRmRf::test_rm_rf_with_read_only_directory\",\n        \"testing/test_tmpdir.py::TestRmRf::test_on_rm_rf_error\",\n        \"testing/test_tmpdir.py::test_tmpdir_equals_tmp_path\",\n        \"testing/test_tmpdir.py::test_tmpdir_fixture\",\n        \"testing/test_tmpdir.py::TestConfigTmpdir::test_getbasetemp_custom_removes_old\",\n        \"testing/test_tmpdir.py::test_mktemp[mypath-True]\",\n        \"testing/test_tmpdir.py::test_mktemp[/mypath1-False]\",\n        \"testing/test_tmpdir.py::test_mktemp[./mypath1-True]\",\n        \"testing/test_tmpdir.py::test_mktemp[../mypath3-False]\",\n        \"testing/test_tmpdir.py::test_mktemp[../../mypath4-False]\",\n        \"testing/test_tmpdir.py::test_mktemp[mypath5/..-False]\",\n        \"testing/test_tmpdir.py::test_mktemp[mypath6/../mypath6-True]\",\n        \"testing/test_tmpdir.py::test_mktemp[mypath7/../mypath7/..-False]\",\n        \"testing/test_tmpdir.py::test_tmpdir_always_is_realpath\",\n        \"testing/test_tmpdir.py::test_tmp_path_always_is_realpath\",\n        \"testing/test_tmpdir.py::test_tmpdir_too_long_on_parametrization\",\n        \"testing/test_tmpdir.py::test_tmpdir_factory\",\n        \"testing/test_tmpdir.py::test_tmpdir_fallback_tox_env\",\n        \"testing/test_tmpdir.py::test_tmpdir_fallback_uid_not_found\",\n        \"testing/test_tmpdir.py::test_basetemp_with_read_only_files\"\n      ],\n      \"failure\": []\n    },\n    \"FAIL_TO_FAIL\": {\n      \"success\": [],\n      \"failure\": []\n    },\n    \"PASS_TO_FAIL\": {\n      \"success\": [],\n      \"failure\": []\n    }\n  }\n}"
  },
  "iterations": [],
  "ablation": null,
  "solution": "--- a/src/_pytest/tmpdir.py\n+++ b/src/_pytest/tmpdir.py\n@@ -147,11 +147,14 @@ class TempdirFactory:\n \n \n def get_user() -> Optional[str]:\n-    \"\"\"Return the current user name, or None if getuser() does not work\n-    in the current environment (see #1010).\"\"\"\n+    \"\"\"Return the current user name, with illegal characters replaced,\n+    or None if getuser() does not work in the current environment (see #1010).\n+    \"\"\"\n     import getpass\n \n     try:\n-        return getpass.getuser()\n+        user = getpass.getuser()\n+        # Replace illegal characters in user names (e.g. domain separator in Windows)\n+        return re.sub(r\"[\\\\/:*?\\\"<>|]\", \"_\", user)\n     except (ImportError, KeyError):\n         return None"
}