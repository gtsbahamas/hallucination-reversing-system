## ACC-021: Fixed Assets

**Route:** /accounting/fixed-assets
**Component:** src/pages/accounting/FixedAssetsPage.tsx
**Guard:** accounting.invoices.read (via ROUTE_PERMISSION_MAP['accounting'])

### Roles
- Full access (bypass): super_admin, owner, operations_manager
- Navigation-level: No entry in NAVIGATION_PERMISSIONS
- Route guard resolves to: DENIED for all non-FULL_ACCESS_ROLES

### Database
- Primary: `fixed_assets` (filtered by business_id, ordered by created_at DESC)
- Secondary: `depreciation_schedule` joined with `fixed_assets` (for depreciation details)
- Writes: INSERT into `fixed_assets` and `depreciation_schedule`
- Filters: business_id

### Behavior
1. Page wraps `FixedAssetsTab` in DashboardLayout with Building2 icon
2. On mount, fetches all fixed_assets for current business
3. Displays asset table: Asset (name + serial number), Category, Purchase Date, Purchase Price, Current Value, Accumulated Depreciation, Status, Actions
4. Current value calculated client-side: `max(purchase_price - currentDepreciation, salvage_value)`
5. Current depreciation calculated client-side: months elapsed * monthly depreciation, capped at depreciable amount
6. Monthly depreciation = (purchase_price - salvage_value) / (useful_life_years * 12)
7. Months elapsed uses approximate 30-day months: `(today - purchaseDate) / (1000*60*60*24*30)`
8. "Add Asset" button opens dialog with fields: Asset Name, Category (6 options), Purchase Date, Purchase Price, Salvage Value, Useful Life (Years), Location, Serial Number, Description
9. Adding asset: inserts into fixed_assets with current_value = purchase_price, then generates depreciation_schedule
10. Depreciation schedule generation: creates one row per month for full useful life (straight-line only, despite depreciation_method field)
11. "View" button calls fetchDepreciationSchedule(asset.id) but the returned data is stored in component state and not displayed anywhere visible
12. Empty state: "No Fixed Assets" message with "Add your first fixed asset" guidance
13. Categories: equipment, furniture, vehicles, buildings, computer, other

### Scaffolding Flags
- "View" button fetches depreciation schedule but there is no UI to display it (FixedAssetsTab.tsx:49-52) - `fetchDepreciationSchedule` stores to state but nothing renders the schedule
- Only straight-line depreciation implemented despite having a `depreciation_method` field with value 'straight_line' in the form default
- Months elapsed calculation uses approximate 30-day months (imprecise for financial reporting)
- No edit or delete functionality for assets
- No dispose/retire asset functionality
