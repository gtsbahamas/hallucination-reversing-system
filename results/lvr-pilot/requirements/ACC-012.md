## ACC-012: Journal Entries List

**Route:** /accounting/journal-entries
**Component:** src/pages/accounting/JournalEntriesPage.tsx (thin wrapper around JournalEntriesTab)
**Guard:** accounting.invoices.read (via ROUTE_PERMISSION_MAP['accounting'])

### Roles
- Full access (bypass): super_admin, owner, operations_manager
- Navigation-level: FINANCIAL_ROLES, requiredPermissions: ['financial.journal_entries.create', 'financial.journal_entries.view']
- Route guard resolves to: DENIED for all non-FULL_ACCESS_ROLES (accounting.invoices.read not in permissionMappings.ts)

### Database
- Primary: journal_entries (via useJournalEntriesPaginated)
- Joins: account_transactions -> chart_of_accounts (account_code, account_name)
- Filters: business_id, entry_type, posted status, date_from/to, search (entry_number, reference_number, description, notes)
- Pagination: server-side via .range() with configurable page size (default 20)

### Behavior
1. Page is a thin wrapper: renders DashboardLayout > PageHeader > JournalEntriesTab
2. JournalEntriesTab uses useJournalEntriesPaginated hook for server-side paginated data
3. Header section with title "Journal Entries" and a "Create Entry" button that opens CreateJournalEntryModal
4. Each journal entry renders as a Card showing: entry_number, status badge, entry_date, total_amount, description, and inline account_transactions table
5. Status badges: draft (secondary), posted (default), voided (destructive)
6. Account transactions displayed inline with columns: Account (name + code), Description, Debit, Credit
7. Draft entries show a "Post" button that calls handlePostEntry -> validateJournalEntry -> postJournalEntry (from journalEntryService)
8. Posted entries show a "Void" button that opens an AlertDialog requiring a reason, then calls voidJournalEntry
9. Post flow: validates balance (debits = credits), validates period not closed (RPC call), updates status to 'posted', updates account balances in general_ledger, creates audit_trail entry
10. Void flow: creates a reversing journal entry (VOID-{number}), swaps debit/credit amounts, updates original to 'voided', creates audit_trail entry
11. Pagination: PaginationControls component with page navigation, page size options [10, 20, 50, 100], record count display
12. Empty state: shows icon + "No Journal Entries" message + "Create Journal Entry" button
13. Posted entries show "Posted on {date}" footer text

### Scaffolding Flags
- None found. All handlers are wired to real service functions with proper error handling.
