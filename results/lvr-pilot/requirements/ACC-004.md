## ACC-004: Bill Detail

**Route:** /accounting/bills/:id
**Component:** src/pages/accounting/BillDetailPage.tsx
**Guard:** accounting.invoices.read (via ROUTE_PERMISSION_MAP['accounting'])

### Roles
- Full access (bypass): super_admin, owner, operations_manager
- Navigation-level: FINANCIAL_ROLES + ap_specialist (from NAVIGATION_PERMISSIONS)
- Route guard resolves to: DENIED for all non-FULL_ACCESS_ROLES (accounting.invoices.read not in permissionMappings.ts)

### Database
- Primary: `bills`
- Joins: `suppliers` (id, name, email, phone, contact_person)
- Filters: id (from URL params), business_id (from useBusiness)

### Behavior
1. Fetches a single bill by id + business_id using Supabase `.single()`
2. Displays bill header with bill_number, supplier name, and status badge
3. Shows bill details: bill_number, status, bill_date, due_date, total_amount, notes
4. Shows supplier info sidebar: name, email, phone, contact_person
5. Activity section shows created_at and updated_at timestamps
6. Approve button (visible for pending_approval status): updates status to 'approved' via Supabase .update()
7. Reject button (visible for pending_approval status): updates status to 'cancelled' via Supabase .update()
8. Edit button opens EditBillModal with onSuccess callback that refetches bill
9. Delete button: uses window.confirm() then hard-deletes via `.from('bills').delete()`, navigates to /accounting/bills
10. Error/not-found state shows "Back to Bills" button and explanatory message
11. No line items display â€” bill_line_items are NOT joined in the query
12. No payment history display

### Scaffolding Flags
- Activity section: comment "Activity/Timeline - Placeholder for future implementation" (line 429)
- No line items tab or display despite bill_line_items table existing
- No pagination or payment tracking
