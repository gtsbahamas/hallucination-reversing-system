## ACC-022: Multi-Currency

**Route:** /accounting/multi-currency
**Component:** src/pages/accounting/MultiCurrencyPage.tsx
**Guard:** accounting.invoices.read (via ROUTE_PERMISSION_MAP['accounting'])

### Roles
- Full access (bypass): super_admin, owner, operations_manager
- Navigation-level: No entry in NAVIGATION_PERMISSIONS
- Route guard resolves to: DENIED for all non-FULL_ACCESS_ROLES

### Database
- Primary: `currencies` (filtered by business_id, ordered by is_base_currency DESC)
- Writes: INSERT into currencies, UPDATE exchange_rate and last_updated on currencies
- Filters: business_id

### Behavior
1. Page wraps `MultiCurrencyTab` in DashboardLayout with Globe icon
2. On mount, fetches all currencies for current business, identifies base currency
3. Displays base currency name and code
4. "Add Currency" button opens dialog with fields: Currency Code (uppercased on input), Currency Name, Currency Symbol, Exchange Rate
5. Adding currency inserts into currencies table with business_id
6. Currency table shows: Currency Name, Code, Symbol, Exchange Rate (editable inline for non-base currencies), Last Updated, Status (Active/Inactive + Base badge), Actions
7. Exchange rate inline edit: Input field with onBlur handler that calls updateExchangeRate if value changed
8. updateExchangeRate updates exchange_rate and last_updated fields
9. Refresh button (RefreshCw icon) exists for non-base currencies but only calls handleUpdateRate with the SAME current rate - it does NOT fetch live rates (the refreshRates function from hook is not used)
10. Hook has `refreshRates` function that calls `refreshRatesFromAPI` from exchangeRateService, but the component never calls it
11. Hook has `convertAmount` utility that converts via base currency, but component never uses it
12. Empty state: "No Currencies Configured" message
13. Table uses hardcoded neutral-300 border colors instead of theme variables (inconsistent with other pages)

### Scaffolding Flags
- Refresh button per currency calls `handleUpdateRate(currency.id, currency.exchange_rate)` (line 185-186) which just re-saves the same rate - not a real refresh
- Hook's `refreshRates` (which calls external API) and `convertAmount` functions are never used by the component
- No ability to deactivate/delete currencies
- No currency conversion calculator or transaction display
