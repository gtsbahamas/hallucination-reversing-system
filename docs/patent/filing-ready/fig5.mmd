flowchart TD
    A["Step 1: HALLUCINATE\nLLM generates unconstrained\nspecification for software system\n(e.g., hallucinated Terms of Service)"] --> B["Step 2: EXTRACT\nDecompose into individual\ntestable claims\n(categorized by type and severity)"]
    B --> C["Step 3: VERIFY\nTest each claim against\nactual codebase via:\n- Static analysis\n- Test execution\n- Type checking\n- Bounded model checking"]
    C --> D["Step 4: COMPUTE SPECIFICATION GAP\ngap = 1 - (passing / applicable)\nIteration 3: 57.3%\nIteration 4: 69.8%\nIteration 5: 83.2%\nIteration 6: 90.8%"]
    D --> E{Converged?}
    E -->|No| F["Step 5: REMEDIATE\nGenerate priority-ordered\ncode modifications\n(severity-weighted)"]
    F --> G["Step 6: MODIFY CODEBASE\nApply remediation\nchanges to actual code"]
    G --> H["Step 7: REGENERATE\nUpdate specification\nconditioned on modified codebase\n- Retain verified claims\n- Revise failed claims\n- Discover new claims"]
    H --> B
    E -->|Yes| I["Output:\n- Verified specification\n- Compliant codebase\n- Audit trail\n- Residual failures report"]
